#ifndef _NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_DESCRIPTOR_SET_GLSL_INCLUDED_
#define _NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_DESCRIPTOR_SET_GLSL_INCLUDED_


#ifndef NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_DESCRIPTOR_SET
#define NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_DESCRIPTOR_SET 1
#endif

#include "nbl/builtin/glsl/transform_tree/modification_request_range.glsl"
#ifndef NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_REQUEST_RANGES_DESCRIPTOR_BINDING
#define NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_REQUEST_RANGES_DESCRIPTOR_BINDING 0
#endif
#ifndef NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_REQUEST_RANGES_DESCRIPTOR_QUALIFIERS
#define NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_REQUEST_RANGES_DESCRIPTOR_QUALIFIERS readonly restrict
#endif
#ifndef NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_REQUEST_RANGES_DESCRIPTOR_DECLARED
#define NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_REQUEST_RANGES_DESCRIPTOR_DECLARED
layout(
    set=NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_DESCRIPTOR_SET,
    binding=NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_REQUEST_RANGES_DESCRIPTOR_BINDING
) NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_REQUEST_RANGES_DESCRIPTOR_QUALIFIERS buffer RelativeTransformModicicationRequestRanges
{
    uint rangeCount;
    // OpenGL drivers (even Nvidia) have some bugs and can sporadically completely
    // forget about memory or execution barriers between `glCopyBufferSubData` and compute dispatches
    // as well as modify memory to bogus values even though you're always copying the same data to the same location
    int maxRangeLength;
    nbl_glsl_transform_tree_modification_request_range_t data[];
} relativeTransformModificationRequestRanges;
#endif

#include "nbl/builtin/glsl/transform_tree/relative_transform_modification.glsl"
#ifndef NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_MODIFICATION_REQUESTS_DESCRIPTOR_BINDING
#define NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_MODIFICATION_REQUESTS_DESCRIPTOR_BINDING 1
#endif
#ifndef NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_MODIFICATION_REQUESTS_DESCRIPTOR_QUALIFIERS
#define NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_MODIFICATION_REQUESTS_DESCRIPTOR_QUALIFIERS readonly restrict
#endif
#ifndef NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_MODIFICATION_REQUESTS_DESCRIPTOR_DECLARED
#define NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_MODIFICATION_REQUESTS_DESCRIPTOR_DECLARED
layout(
    set=NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_DESCRIPTOR_SET,
    binding=NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_MODIFICATION_REQUESTS_DESCRIPTOR_BINDING
) NBL_GLSL_TRANSFORM_TREE_RELATIVE_TRANSFORM_UPDATE_MODIFICATION_REQUESTS_DESCRIPTOR_QUALIFIERS buffer RelativeTransformModifications
{
    nbl_glsl_transform_tree_relative_transform_modification_t data[];
} relativeTransformModifications;
#endif


#endif